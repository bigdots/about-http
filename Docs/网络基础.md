<!-- TOC -->

- [网络基础](#网络基础)
        - [TCP/IP 协议族](#tcpip-协议族)
        - [TCP/IP 分层管理](#tcpip-分层管理)
    - [IP、TCP 和 DNS](#iptcp-和-dns)
        - [IP——负责传输](#ip负责传输)
        - [TCP——确保可靠性](#tcp确保可靠性)
        - [DNS——负责域名解析](#dns负责域名解析)
    - [URI 和 URL](#uri-和-url)
        - [URI（Uniform Resource Identifier ）](#uriuniform-resource-identifier-)
        - [URL（Uniform Resource Locator）](#urluniform-resource-locator)

<!-- /TOC -->

# 网络基础

TCP/IP 是互联网相关的各类协议族的总称

### TCP/IP 协议族
不同的硬件、操作系统之间的通信， 所有的这一切都需要一种规则。而我们就把这种规则称为协议(protocol)。通常使用的网络(包括互联网)是在 TCP/IP 协议族的基础上运作的。而 HTTP 属于它内部的一个子集。

### TCP/IP 分层管理

通过分层保持独立性和简单性。类似于模块化。

1. 应用层

    决定了向用户提供应用服务时通信的活动。
    `HTTP(Hyper Text Transfer Protocol)`、`DNS(Domain Name System，域名系统)`、`FTP(File Transfer Protocol，文件传输协议)`等
2. 传输层

    对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。
    分为`TCP(Transmission Control Protocol，传输控制协议)`和 `UDP(User Data Protocol，用户数据报协议)`。
    这一层会将数据(HTTP 请求报文)进行分割，并在 各个报文上打上标记序号及端口号后转发给网络层。
3. 网络层

    处理在网络上流动的数据包。**数据包是网络传输的最小数据单位。**该层规定了通过怎样的路径 (所谓的传输路线)到达对方计算机，并把数据包传送给对方。
    在这一层增加作为通信目的地的 MAC 地址后转发给链路层。
4. 数据链路层。

    用来处理连接网络的硬件部分。

利用`TCP/IP`协议族进行网络通信时，会通过分层顺序与对方进行通信。发送端从应用层往下走，接收端则往应用层上走。

发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层 与层传输数据时，每经过一层时会把对应的首部消去。这种把数据信息包装起来的做法称为`封装(encapsulate)`。

> MAC 地址(Media Access Control Address): 即物理地址、硬件地址，用来定义网络设备的位置，表示互联网上每一个站点的标识符，采用十六进制数表示，共六个字节（48位）。

## IP、TCP 和 DNS

### IP——负责传输
IP(Internet Protocol)网际协议位于网络层。

IP协议的作用是把各种数据包传送给对方。想要保证数据的准确传输需要俩个重要条件：

+ IP 地址
+ MAC 地址


### TCP——确保可靠性

TCP 位于传输层，提供可靠的字节流服务。

1. 可靠

    指的是TCP能够确认数据最终是否送达到对方。为了实现这一目的，TCP 协议采用了三次握手(three-way handshaking)策略：

    + 发送端首先发送一个带 SYN 标志的数据包给对方。
    + 接收端收到后，回传一个带有 SYN/ACK 标志的数据包以示传达确认信息。
    + 最后，发送端再回传一个带 ACK 标志的数据包，代表“握手”结束。

2. 字节流服务

    为了方便传输，将大块数据分割成以报文段(segment) 为单位的数据包进行管理（为了更容易传送大数据）。

一个网络请求过程度：
浏览器输入地址：
1. 应用层（客户端）
    + DNS协议 解析成IP地址
    + HTTP协议 生成HTTP报文
2. 传输层（客户端）
    + TCP协议 分割报文进行可靠传输
3. 网络层（路由器）
    + IP协议 搜索对方地址，一边中转一边传输
4. 传输层（服务器）
    + TCP协议 按顺序重组报文
5. 应用层（服务器）
    + HTTP协议 对请求内容做处理

### DNS——负责域名解析

DNS 位于应用层，提供域名到 IP 地址之间的解析服务。


## URI 和 URL

### URI（Uniform Resource Identifier ）

统一资源标识符，用字符串标识某一互联网资源

URI 的格式：

`协议方案名`://`登录信息(认证)`@`服务器地址`:`服务器端口号`/`带层次的文件路径`?`查询字符串`#`片段标识符`

### URL（Uniform Resource Locator）

统一资源定位符，表示资源的地点(互联网上所处的位置)。是 URI 的 子集。